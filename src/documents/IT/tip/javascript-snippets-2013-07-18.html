---
layout: IT
title: Javascript snippets
date: '2013-07-18'
comments: true
adsense: true
ignored: true
tags:
- debelopment
- IT
- javascript
- snippet
- tip
- web
---

<h2 id="article_summary" class="summary">유용한 javascript 예제와 팁</h2><h3>URL 파라메터 받아오기(get PARAM)</h3><p><a title="get-url-parameters-values-with-javascript" href="http://www.codetreat.com/get-url-parameters-values-with-javascript" target="_blank"> http://www.codetreat.com/get-url-parameters-values-with-javascript</a><br /><code><br />$.params = function(param<em>name){<br />var value = new RegExp('[\?&amp;]' + param</em>name + '=([^&amp;#]*)').exec(window.location.href);<br />return value[1];<br />}<br /></code></p><h3>Jquery 셀렉터 성능(JQUERY SELECTOR Performance)</h3><p><a title="selectors benchmark" href="http://jsperf.com/selectors-perf/6" target="_blank"> http://jsperf.com/selectors-perf/6</a><br />cssSelector는 id 나 element와 함께 쓰지 않고 단독으로 사용한다.</p><p><code><br />var obj = document.getElementById("childDiv");<br />xxx = obj.getElementsByClassName("txtClass");<br /></code></p><p>&nbsp;</p><h3>이벤트 처리</h3><p>preventDefault() : 이벤트의 기본 행동을 막는다.<br />If this method is called, the default action of the event will not be triggered.<br />stopPropagation() : 상위 핸들러로 이벤트를 넘기지 않도록 막는다.<br />Prevents the event from bubbling up the DOM tree,<br />preventing any parent handlers from being notified of the event.<br /></p><p>prepend() - 앞쪽에 내용을 붙인다.(to attach content as a prefix.)<br />append() - 뒷쪽에 내용을 붙인다. (to attach content as a suffix.)<br /></p><p>배열 요소에서 데이터를 받고 싶을 땐 $()로 한번 더 감싼다.<br />$($(array_selector)[0]).data(something);</p><br /><p><strong>두번 submit되는 문제(prevent submit twice)</strong><br />onclick이벤트 보다는 onsubmit 이벤트를 사용한다.<br /><a title="prevent-double-submission-of-forms-in-jquery" href="http://stackoverflow.com/questions/2830542/prevent-double-submission-of-forms-in-jquery" target="_blank">http://stackoverflow.com/questions/2830542/prevent-double-submission-of-forms-in-jquery</a><br /><code><br />this.element.find('.save').attr('disabled','disabled');<br /><br />// jQuery plugin to prevent double submission of forms<br />jQuery.fn.preventDoubleSubmission = function() {<br />$(this).bind('submit',function(e){<br />var $form = $(this);<br />if ($form.data('submitted') === true) {<br />// Previously submitted - don't submit again<br />e.preventDefault();<br />} else {<br />// Mark it so that the next submit can be ignored<br />$form.data('submitted', true);<br />}<br />// Keep chainability<br />return this;<br />};<br /></code><br /></p><br /><h3>JSON</h3><p>Object to String<br />JSON.stringify(obj);<br />Parse JSON response<br />JSON.parse(obj);</p><p><strong>JSON.parse()사용시 오류 : Uncaught SyntaxError: Unexpected token o</strong><br /><a title="i-keep-getting-uncaught-syntaxerror-unexpected-token-o" href="http://stackoverflow.com/questions/8081701/i-keep-getting-uncaught-syntaxerror-unexpected-token-o" target="_blank">http://stackoverflow.com/questions/8081701/i-keep-getting-uncaught-syntaxerror-unexpected-token-o</a><br />데이터형이 올바르지 않아서 나는 오류이다.<br />Looks like jQuery takes a guess about the datatype.<br />It does the JSON parsing even though you're not calling getJSON()--<br />then when you try to call JSON.parse() on an object, you're getting the error.</p><br /><h3>loglevel</h3><p><a title="loglevel" href="https://github.com/pimterry/loglevel" target="_blank"> https://github.com/pimterry/loglevel</a><br />원하는 레벨의 로그를 콘솔 메시지로 보낸다.<br />켜고 끄는 것이 편리하다.<br />log.enableAll() and log.disableAll() methods.<br />* log.trace(msg)<br />* log.debug(msg)<br />* log.info(msg)<br />* log.warn(msg)<br />* log.error(msg)</p><br /><h3>JavaScript 디버깅</h3><p>chrome dev tool -&gt; Settings -&gt; General -&gt; Disable cache<br />Timeline을 이용하면 어떤 코드가 어플리케이션에 부하를 주는지 찾아준다.<br />메모리 누수가 발생한다면 찾아 개선한다.<br />Profiles도구에서  Heap Snapshot을 두 개 만들어 comparison view로 비교하면 성능 저하 원인을 찾기 편하다.</p>
