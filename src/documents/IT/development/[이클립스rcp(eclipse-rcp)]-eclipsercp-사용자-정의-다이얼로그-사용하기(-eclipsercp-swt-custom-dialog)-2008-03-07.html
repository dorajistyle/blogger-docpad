---
layout: IT
title: "[이클립스RCP(ECLIPSE RCP)] EclipseRCP 사용자 정의 다이얼로그 사용하기.( EclipseRCP SWT Custom dialog)"
date: '2008-03-07'
comments: true
adsense: true
ignored: true
tags:
- Custom dialog
- development
- Eclipse RCP
- IT
- Java
- SWT
- "이클립스RCP"
---

<div class="imageblock left" style="float: left; text-align: center; padding: 10px;"><a href="http://www.mobilefish.com/developer/eclipse/eclipse.html" onclick="window.open(this.href);return false;"><img src="http://images.google.com/images?q=tbn:rFfVzEr-s4uB7M::www.mobilefish.com/images/developer/eclipse_logo_3.0.gif" alt="EclipseRCP 사용자 정의 다이얼로그 사용하기.( EclipseRCP SWT Custom dialog)[Custom Dialog,이클립스 RCP,eclipse RCP]" height="86" width="130"></a><p style="margin-top: 5px;"><span>이미지출처</span>&nbsp;: <a href="http://www.mobilefish.com/developer/eclipse/eclipse.html" onclick="window.open(this.href);return false;"><span style="color: rgb(0, 128, 0);">www.mobilefish.com</span></a></p></div><p style="font-weight: bold;"><font size="3">EclipseRCP 사용자 정의 다이얼로그 사용하기.( EclipseRCP SWT Custom dialog)</font></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p>SWT에서는 다음의 5가지 Dialog를 제공하고 있다.</p><br /><ul><li>ColorDialog</li><li>DirectoryDialog</li><li>FileDialog</li><li>FontDialog</li><li>MessageBox</li></ul><br /><br /><p>하지만 필요에따라 자신만의 Dialog를 만들어 쓸 일이 생기는데..</p><br /><br /><p>간단한 SlideDialog의 예제로 알아보자.</p><br /><br /><p class="amcode">Code:</p><div class="codeblock amc_code amc_long"><table><tbody><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">private IWorkbenchWindow window;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; private Shell customDialog;</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; private Button buttonOK;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; private Button buttonCancel;</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; private boolean isSetting;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; private float density;</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; </span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; private Listener listener = new Listener() {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; public void handleEvent(Event event) {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (event.widget == buttonOK) {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isSetting = true;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isSetting = false;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customDialog.close();</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customDialog.dispose();</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code>&nbsp;</code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; };</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; private void initialize() {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; customDialog = new Shell(window.getShell(), SWT.APPLICATION_MODAL| SWT.DIALOG_TRIM);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; customDialog.setText("Setting Density");</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; customDialog.setSize(210, 100);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; buttonOK = new Button(customDialog, SWT.PUSH);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonOK.setText("OK");</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonOK.setBounds(10, 40, 80, 25);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code>&nbsp;</code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonCancel = new Button(customDialog, SWT.PUSH);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonCancel.setText("Cancel");</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonCancel.setBounds(110, 40, 80, 25);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; final Slider slider = new Slider (customDialog, SWT.HORIZONTAL);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; slider.setBounds (10, 10, 180, 24);</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; slider.setIncrement(10);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; slider.setMaximum(109);</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; slider.setToolTipText("MIN &lt;--!--&gt; MAX");</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonOK.addListener(SWT.Selection, listener);</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; buttonCancel.addListener(SWT.Selection, listener);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; slider.addListener (SWT.Selection, new Listener () {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; public void handleEvent (Event event) {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; density = slider.getSelection()*0.01f;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; });</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; public void run(IAction action) {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; initialize();</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; customDialog.open();</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code>&nbsp;</code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; // sleep during dialog work. dialog 가 닫힐때까지 기다리게 해준다.</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp;&nbsp; while (!customDialog.isDisposed()) {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!window.getShell().getDisplay().readAndDispatch())</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; window.getShell().getDisplay().sleep();</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code>&nbsp;</code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp;&nbsp; if(isSetting) {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; System.out.println("Density : "+density);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; }</span></code></td></tr></tbody></table></div><br /><br /><p>코드 후반의 while문 부분이 없다면, Dialog에서 어떤 조작을 하기도 전에 if문이 실행되버리니 유의해야 한다.</p>
