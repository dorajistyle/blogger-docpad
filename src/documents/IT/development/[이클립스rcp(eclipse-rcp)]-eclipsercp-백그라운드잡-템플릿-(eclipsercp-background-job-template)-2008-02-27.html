---
layout: IT
title: "[이클립스RCP(ECLIPSE RCP)] EclipseRCP 백그라운드잡 템플릿 (EclipseRCP Background Job Template)"
date: '2008-02-27'
comments: true
adsense: true
ignored: true
tags:
- Background Job
- development
- Eclipse RCP
- IT
- Java
- template
- "이클립스RCP"
- "잡"
- "템플릿"
---

<div class="imageblock left" style="float: left; text-align: center; padding: 10px;"><a href="http://www.mobilefish.com/developer/eclipse/eclipse.html" onclick="window.open(this.href);return false;"><img src="http://images.google.com/images?q=tbn:rFfVzEr-s4uB7M::www.mobilefish.com/images/developer/eclipse_logo_3.0.gif" alt="EclipseRCP 백그라운드잡 템플릿 (EclipseRCP Background Job Template)[Background Job,이클립스 RCP,eclipse RCP]" height="86" width="130"></a><p style="margin-top: 5px;"><span>이미지출처</span>&nbsp;: <a href="http://www.mobilefish.com/developer/eclipse/eclipse.html" onclick="window.open(this.href);return false;"><span style="color: rgb(0, 128, 0);">www.mobilefish.com</span></a></p></div><p class="amcode"><font size="3"><span style="font-weight: bold;">EclipseRCP 백그라운드잡 템플릿 (EclipseRCP Background Job Template)</span></font><br /></p><p class="amcode"><br /></p><p class="amcode"><br /></p><p class="amcode"><br /></p><p class="amcode"><br /></p><p class="amcode"><br /></p><p class="amcode"><br /></p><p class="amcode">Code:</p><div class="codeblock amc_code amc_long"><table><tbody><tr class="amc_code_odd"><td><code><span class="amc_default">Job job = new Job("Title") {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; protected IStatus run(IProgressMonitor monitor) {</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; monitor.beginTask(TaskName, totalWork);</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; monitor.subTask(SubTaskName);</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; monitor.worked(work);</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (monitor.isCanceled()){</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Status.CANCEL_STATUS;</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try { Thread.sleep(1000); } catch (Exception e) { }</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display.getDefault().asyncExec(new Runnable() {</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; public void run() {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // &nbsp;UI Update Jobs</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return endJob(monitor);</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; };</span></code></td></tr><tr class="amc_code_odd"><td><code>&nbsp;</code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">// &nbsp; &nbsp; &nbsp; &nbsp; job.setUser(true);</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; job.schedule();</span></code></td></tr><tr class="amc_code_even"><td><code>&nbsp;</code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp;&nbsp; public boolean isModal(Job job) {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Boolean isModal = (Boolean)job.getProperty(</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; IProgressConstants.PROPERTY_IN_DIALOG);</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isModal == null) return false;</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return isModal.booleanValue();</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp;&nbsp; protected &nbsp;Action getCompletedAction() {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; return new Action("View status") {</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; public void run() {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MessageDialog.openInformation(PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell(), </span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dialogTitle, </span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dialogContent);</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; };</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; protected &nbsp;void showResults() {</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display.getDefault().asyncExec(new Runnable() {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; public void run() {</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getCompletedAction().run();</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; </span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; protected IStatus endJob(IProgressMonitor monitor) { </span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; if (isModal(this)) {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // The progress dialog is still open so</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // just open the message</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showResults();</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; } else {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; setProperty(IProgressConstants.KEEP_PROPERTY, Boolean.TRUE);</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; setProperty(IProgressConstants.ACTION_PROPERTY, </span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getCompletedAction());</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; }</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; monitor.done();</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; return Status.OK_STATUS;</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp;&nbsp; </span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; }</span></code></td></tr></tbody></table></div>
