---
layout: IT
title: "[이클립스RCP(ECLIPSE RCP)] EclipseRCP 체크박스에서 재귀선택 이벤트 (EclipseRCP recursive selection event in checkbox viewer)"
date: '2009-03-13'
comments: true
adsense: true
ignored: true
tags:
- development
- Eclipse RCP
- IT
- Java
- recursive
- selection event
- "이클립스RCP"
---

<div class="imageblock left" style="float: left; text-align: center; padding: 10px;"><a href="http://www.mobilefish.com/developer/eclipse/eclipse.html" onclick="window.open(this.href);return false;"><img src="http://images.google.com/images?q=tbn:rFfVzEr-s4uB7M::www.mobilefish.com/images/developer/eclipse_logo_3.0.gif" alt="EclipseRCP 체크박스에서 재귀선택 이벤트 (EclipseRCP recursive selection event in checkbox viewer)[checkbox viewer,체크박스,selection event,선택 이벤트,이클립스 RCP,eclipse RCP]" height="86" width="130"></a><p style="margin-top: 5px;"><span>이미지출처</span>&nbsp;: <a href="http://www.mobilefish.com/developer/eclipse/eclipse.html" onclick="window.open(this.href);return false;"><span style="color: rgb(0, 128, 0);">www.mobilefish.com</span></a></p></div><p><font size="3"><span style="font-weight: bold;">EclipseRCP 체크박스에서 재귀선택 이벤트 (EclipseRCP recursive selection event in checkbox viewer)</span></font><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p>It’s Tips for CheckboxViewer.</p><br /><br /><p>I found bug that throw selection event three times in CheckboxViewer(CheckboxTreeViewer,CheckboxTableViewer).</p><br /><br /><p>This bug appear when user click checkbox on selected object.</p><br /><br /><p>Then I disable selection as well as “viewer.setSelection(null);";</p><br /><br /><p>And I need the checkbox behave likes the radio button.</p><br /><br /><p>I implemented it through history clear.</p><br /><br /><br /><br /><p class="amcode">Code:</p><div class="codeblock amc_code amc_long"><br /><table><tbody><tr class="amc_code_odd"><td><code><span class="amc_default">boolean isHistory;</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">Object currentObject;</span></code></td></tr><tr class="amc_code_odd"><td><code>&nbsp;</code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">public void selectionChanged(SelectionChangedEvent event) {</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; if(isHistory) {</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; isHistory = false;</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; return;</span></code></td></tr><tr class="amc_code_even"><td><code><span class="amc_default">&nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td><code><span class="amc_default">&nbsp; if (!event.getSelection().isEmpty()) {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; if (event.getSelection() instanceof IStructuredSelection) {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(currentObject!= null) {</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(! currentObject.equals((IStructuredSelection)event.getSelection()).getFirstElement())) {</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isHistory = true;</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; viewer.setChecked(currentObject, false);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; viewer.setSelection(new StructuredSelection(currentObject);</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isHistory = false;</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; viewer.setSelection(null);</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; currentObject = (IStructuredSelection)event.getSelection()).getFirstElement();</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; viewer.setChecked(currentObject , !viewer.getChecked(currentObject ));</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; viewer.getTable().setSelection(currentObject.index);</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; viewer.setSelection(null);</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_odd"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; &nbsp; }</span></code></td></tr><tr class="amc_code_even"><td class="amc_line"><br /></td><td><code><span class="amc_default">&nbsp; }</span></code></td></tr></tbody></table></div>
