---
layout: IT
title: "[소프트웨어형상관리] 트랙+서브버젼 설치 (trac+svn)"
date: '2007-03-24'
comments: true
adsense: true
ignored: false
tags:
- installation
- IT
- sccm
- SVN
- trac
- trac+svn
- "서브버젼"
- "설치"
- "소프트웨어형상관리"
- "트랙"
- "환경"
---

<div class="imageblock left" style="float: left; text-align: center; padding: 10px;"><img src="http://images.google.com/images?q=tbn:yYTQ1MR7PlvicM::www.wiggy.net/files/trac-testing.jpg" alt="트랙+서브버젼 설치 (trac+svn) [소프트웨어형상관리,트랙,서브버젼,trac,svn,SCM]" height="73" width="135"><p style="margin-top: 5px;"><span>이미지출처</span>&nbsp;: <a href="http://www.wiggy.net/" onclick="window.open(this.href);return false;"><span style="color: rgb(0, 128, 0);">www.wiggy.net</span></a></p></div><font style="font-weight: bold;" size="3">Trac+SVN 설치 방법</font><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p>——————————————————-<br /><br /><strong> # 파이썬으로 인스톨 하기</strong><br /><br />——————————————————-<br /><br />setup.py 파일이 들어있는 배포판의 인스톨 방법</p><br /><br /><p>python ./setup.py install</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://www.swig.org" title="SWIG">swig</a>] 설치(Simplified Wrapper and Interface Generator)</strong><br /><br />——————————————————-<br /><br />./configure –with-python=/usr/bin/python<br /><br />make<br /><br />sudo make install</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://subversion.tigris.org/" title="http://subversion.tigris.org/">Subversion</a>] 설치(SCM)</strong><br /><br />——————————————————-<br /><br />./configure -prefix=/usr/local  –without-berkeley-db –enable-swig-bindings=python \<br /><br />–with-swig=/usr/local/bin/swig PYTHON2=/System/Library/Frameworks/Python.framework/Versions/2.3/ \<br /><br />–mandir=/usr/local/share/man –with-ssl  –with-apxs=/usr/local/apache2/bin/apxs –with-zlib \<br /><br />–with-apr=/usr/local/apache2 –with-apr-util=/usr/local/apache2<br /><br />make<br /><br />sudo make install</p><br /><br /><p>——————————————————-<br /><br /><strong> # swig svn python bindings</strong><br /><br />——————————————————-<br /><br />swig를 이용하여 svn을 연동<br /><br />cd &lt;subversion-distribution-top-dir&gt;<br /><br />make swig-py<br /><br />sudo make install-swig-py<br /><br />echo /usr/local/lib/svn-python &gt; /Library/Python/2.3/site-packages/svn-python.pth</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://www.clearsilver.net" title="http://www.clearsilver.net">Clearsilver</a>]</strong><br /><br />——————————————————-<br /><br />소스코드를 색으로 강조해준다.(highlight 기능)<br /><br />cd &lt;clearsilver-distribution-top-dir&gt;<br /><br />./configure –prefix=/usr/local –with-python=/usr/bin/python –disable-ruby<br /><br />make<br /><br /># &gt;&gt;&gt; here modify first line of scripts/document.py to use same python  (#!/usr/bin/ python)<br /><br />sudo make install</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://docutils.sourceforge.net/" title="http://docutils.sourceforge.net/">Docutils</a>]</strong><br /><br />——————————————————-<br /><br />문서를 원하는 형식으로 변환<br /><br />cd &lt; docutils-distribution-top-dir&gt;<br /><br />sudo python setup.py install</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://www.postgresql.org" title="http://www.postgresql.org">postgres db</a>] 설치</strong><br /><br />——————————————————-<br /><br />./configure<br /><br />gmake<br /><br />su<br /><br />gmake install<br /><br />adduser postgres<br /><br />mkdir /usr/local/pgsql/data<br /><br />chown postgres /usr/local/pgsql/data<br /><br />su - postgres<br /><br />/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data<br /><br />/usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data &gt;logfile 2&gt;&amp;1 &amp;<br /><br />/usr/local/pgsql/bin/createdb -E=utf8 test<br /><br />/usr/local/pgsql/bin/psql test</p><br /><br /><p>——————————————————-<br /><br /><strong> # postgres 기본적인 명령어들</strong><br /><br />——————————————————-<br /><br />c dbname : dbname 에 연결<br /><br />\d : show databases<br /><br />show server_encoding :<br /><br />show client_encoding<br /><br />set client_encoding = ‘uhc’;</p><br /><br /><p>——————————————————-<br /><br /># trac 새로운 환경 만들기<br /><br />——————————————————-<br /><br />trac-admin /path/to/projectenv initenv</p><br /><br /><p># 환경설정중에 DB에 postgres 사용하기<br /><br />Database Connection Strings<br /><br />postgres://user<img src="http://dorajistyle.pe.kr/rsc/smilies/icon_razz.gif" alt=":p" class="middle">ass@server/database?schema=yourschemaname</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://pypgsql.sourceforge.net" title="http://pypgsql.sourceforge.net">pyPgSQL</a>] 설치</strong><br /><br />——————————————————-<br /><br />python에서 pgsql 이용하기 위해서 필요</p><br /><br /><p>——————————————————-<br /><br /><strong> # [<a href="http://www.egenix.com/files/python/eGenix-mx-Extensions.html" title="http://www.egenix.com/files/python/eGenix-mx-Extensions.html ">egenix-mx-base</a>] 설치</strong><br /><br />——————————————————-<br /><br />postgres의 DateTime을 사용하기 위해서 설치</p><br /><br /><p>——————————————————-<br /><br /><strong> # trac 기본 익명 사용자 권한</strong><br /><br />——————————————————-<br /><br />trac-admin PATH permission list - 권한 리스트 보기<br /><br />trac-admin PATH permission add ID PERMISSION - 권한 추가(’*’  사용가능)<br /><br />trac-admin PATH permission remove ID PERMISSION - 권한 제거(’*’  사용가능)</p><br /><br /><p>User       Action<br /><br />————————–<br /><br />anonymous  BROWSER_VIEW<br /><br />anonymous  CHANGESET_VIEW<br /><br />anonymous  FILE_VIEW<br /><br />anonymous  LOG_VIEW<br /><br />anonymous  MILESTONE_VIEW<br /><br />anonymous  REPORT_SQL_VIEW<br /><br />anonymous  REPORT_VIEW<br /><br />anonymous  ROADMAP_VIEW<br /><br />anonymous  SEARCH_VIEW<br /><br />anonymous  TICKET_CREATE<br /><br />anonymous  TICKET_MODIFY<br /><br />anonymous  TICKET_VIEW<br /><br />anonymous  TIMELINE_VIEW<br /><br />anonymous  WIKI_CREATE<br /><br />anonymous  WIKI_MODIFY<br /><br />anonymous  WIKI_VIEW</p><br /><br /><p>Available actions:<br /><br />BROWSER_VIEW, CHANGESET_VIEW, CONFIG_VIEW, FILE_VIEW, LOG_VIEW,<br /><br />MILESTONE_ADMIN, MILESTONE_CREATE, MILESTONE_DELETE, MILESTONE_MODIFY,<br /><br />MILESTONE_VIEW, REPORT_ADMIN, REPORT_CREATE, REPORT_DELETE, REPORT_MODIFY,<br /><br />REPORT_SQL_VIEW, REPORT_VIEW, ROADMAP_ADMIN, ROADMAP_VIEW, SEARCH_VIEW,<br /><br />TICKET_ADMIN, TICKET_APPEND, TICKET_CHGPROP, TICKET_CREATE, TICKET_MODIFY,<br /><br />TICKET_VIEW, TIMELINE_VIEW, TRAC_ADMIN, WIKI_ADMIN, WIKI_CREATE,<br /><br />WIKI_DELETE, WIKI_MODIFY, WIKI_VIEW</p><br /><br /><p>——————————————————-<br /><br /><strong> # svn PATH 설정</strong><br /><br />——————————————————-<br /><br />cd ~<br /><br />echo ‘export PATH="$PATH:/usr/local/bin"‘ &gt;&gt; .profile</p><br /><br /><p>——————————————————-<br /><br /><strong> # trac + svn 권한 설정</strong><br /><br />——————————————————-<br /><br />htpasswd -c .htpasswd ID 로 생성</p><br /><br /><p>create the .htpasswd in /var/trac/your_project/, for exampe:</p><br /><br /><p>[users]<br /><br />YourName:8d2yxeC7vAkiQ<br /><br />HisName:7$4k2Ci4QoVFc</p><br /><br /><p># SVN authz<br /><br />Edit the file authz in /var/svn/your_project/conf/, for example:</p><br /><br /><p>[groups]<br /><br />admin = YourName</p><br /><br /><p>[/]<br /><br />@admin = rw<br /><br />HisName = r<br /><br />* =</p><br /><br /><p>——————————————————-<br /><br /><strong> trac-digest.py 패스워드 생성기</strong><br /><br />——————————————————-<br /><br />from optparse import OptionParser<br /><br />import md5</p><br /><br /><p># build the options<br /><br />usage = “usage: %prog [options]”<br /><br />parser = OptionParser(usage=usage)<br /><br />parser.add_option("-u", “–username",action="store", dest="username", type = “string",<br /><br />help="the username for whom to generate a password")<br /><br />parser.add_option("-p", “–password",action="store", dest="password", type = “string",<br /><br />help="the password to use")<br /><br />(options, args) = parser.parse_args()</p><br /><br /><p># check options<br /><br />if (options.username is None) or (options.password is None):<br /><br />parser.error("You must supply both the username and password")</p><br /><br /><p># Generate the string to enter into the htdigest file<br /><br />realm = ‘trac’<br /><br />kd = lambda x: md5.md5(’:’.join(x)).hexdigest()<br /><br />print ‘:’.join((options.username, realm, kd([options.username, realm, options.password])))</p><br /><br /><p>——————————————————-<br /><br /><strong> SVN &amp; trac 구동(digest파일 사용)</strong><br /><br />——————————————————-<br /></p><p><br /></p><pre class="wiki">svnserve -d -r /data/repository/svn<br /></pre><p><br /></p><p>python trac-digest.py -u username -p password &gt;&gt; c:\digest.txt<br /><br />python tracd -d –port 8000 –auth proj_name,c:\digest.txt,trac c:\path\to\proj_name</p><br /><br /><p>——————————————————-<br /><br /><strong>참조자료</strong><br /><br />——————————————————-<br /><br />[<a href="http://trac.edgewall.org/wiki/TracInstall" title="http://trac.edgewall.org/wiki/TracInstall">TracInstall</a>]<br /><br />[<a href="http://trac.edgewall.org/wiki/TracOnOsxServerNoFink" title="http://trac.edgewall.org/wiki/TracOnOsxServerNoFink">TracOnOsxServerNoFink</a>]<br /><br />[<a href="http://trac.edgewall.org/wiki/TracEnvironment" title="http://trac.edgewall.org/wiki/TracEnvironment">TracEnvironment</a>]<br /><br />[<a href="http://trac.edgewall.org/wiki/TracPermissions" title="http://trac.edgewall.org/wiki/TracPermissions">TracPermissions</a>]<br /><br />[<a href="http://trac.edgewall.org/wiki/TracIni" title="http://trac.edgewall.org/wiki/TracIni">TracIni</a>]</p>
